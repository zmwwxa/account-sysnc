# 剑网三角色配置同步工具

一个简单易用的工具，用于快速复制剑网三角色的userdata配置（界面、插件、宏等）从源角色到目标角色。

## 功能特性

- **快速识别**：拖入游戏快捷方式即可自动识别游戏路径
- **批量同步**：支持一次性同步到多个角色
- **智能过滤**：可按账号、大区、服务器筛选角色
- **安全备份**：自动备份目标角色数据，保留最近5次备份
- **跨账号支持**：支持不同账号、大区、服务器间的配置复制
- **游戏检测**：自动检测游戏是否运行并提醒
- **图形界面**：美观易用的GUI界面

## 系统要求

- Windows 操作系统
- Python 3.7+
- 剑网三游戏客户端（标准版或高清版）

## 安装步骤

### 1. 安装 Python

如果还没有安装 Python，请从 [python.org](https://www.python.org/downloads/) 下载并安装 Python 3.7 或更高版本。

### 2. 安装依赖

打开命令行（cmd），进入工具所在目录，执行：

```bash
pip install -r requirements.txt
```

或单独安装：

```bash
pip install PyQt5 pywin32 psutil
```

### 3. 运行程序

```bash
python jx3_role_sync.py
```

## 使用方法

### 第一步：设置游戏路径

有两种方式：

1. **拖放快捷方式**（推荐）
   - 找到桌面或开始菜单中的"剑网三"快捷方式
   - 直接拖入工具窗口的拖放区域
   - 工具会自动识别游戏路径

2. **手动选择**
   - 点击"手动选择游戏目录"按钮
   - 选择游戏安装目录（SeasunGame文件夹）

### 第二步：选择源角色

- 从下拉框中选择要复制配置的源角色
- 格式：账号名-大区-服务器-角色名

### 第三步：选择目标角色

- 在列表中选择一个或多个目标角色
- 按住 Ctrl 可多选
- 使用过滤器可快速筛选角色

### 第四步：开始同步

- 检查选项设置（备份、游戏检测等）
- 点击"开始同步"按钮
- 等待复制完成

## 目录结构

工具会自动识别以下路径结构：

```
SeasunGame/
└── Game/
    └── JX3/
        └── bin/
            └── zhcn_hd/          # 高清版
                └── userdata/
                    └── [账号名]/  # 本地数据（有子文件夹）
                        ├── 电信区/
                        │   └── [服务器]/
                        │       └── [角色]/  ← 复制此文件夹内容
                        └── 双线区/
```

## 注意事项

1. **关闭游戏**：建议在同步前关闭游戏，避免文件冲突
2. **备份重要**：首次使用建议手动备份重要角色数据
3. **跨账号复制**：不同账号间复制时，部分账号相关配置可能不兼容
4. **本地数据识别**：工具自动识别本地数据文件夹（有子目录的账号文件夹）

## 功能说明

### 自动备份

- 复制前自动备份目标角色数据
- 备份位置：`游戏目录/Game/JX3/bin/zhcn_hd/userdata_backup/`
- 备份命名：`账号_大区_服务器_角色_时间戳`
- 自动清理：只保留每个角色最近5次备份

### 备份管理

点击"备份管理"按钮可以：
- 查看所有备份列表
- 查看备份大小和时间
- 未来版本将支持一键还原

### 配置保存

- 程序会自动保存游戏路径配置
- 配置文件：`jx3_sync_config.json`
- 下次启动自动加载上次的游戏路径

## 故障排除

### 问题：提示缺少依赖

**解决**：安装相应的 Python 库

```bash
pip install pywin32    # 解析快捷方式
pip install psutil     # 检测游戏进程
```

### 问题：找不到 userdata 目录

**解决**：
1. 确认游戏已正常安装
2. 手动检查路径是否存在：`游戏目录/Game/JX3/bin/zhcn_hd/userdata`
3. 标准版路径可能是 `zhcn` 而不是 `zhcn_hd`

### 问题：无法拖放快捷方式

**解决**：
1. 使用"手动选择游戏目录"功能
2. 确保已安装 pywin32 库
3. 尝试以管理员身份运行程序

### 问题：同步后配置没有生效

**解决**：
1. 确认游戏已完全关闭
2. 删除目标角色目录，重新同步
3. 检查源角色和目标角色是否正确

## 技术支持

如遇到问题或有建议，可以：
- 检查本文档的"故障排除"部分
- 查看程序运行时的错误提示
- 手动检查游戏目录结构是否符合预期

## 版本历史

### v1.0.0 (2025-12-13)
- 初始版本发布
- 基础角色配置同步功能
- 自动备份功能
- 游戏进程检测
- 跨账号/服务器支持

## 免责声明

本工具仅用于方便玩家管理游戏配置，不涉及游戏数据修改。使用本工具造成的任何问题由使用者自行承担。建议使用前备份重要数据。

## 许可证

本项目为开源免费软件，仅供学习交流使用。
